{% extends "base.html" %}

{% block title %}Editor de Produto{% endblock %}

{% block content %}
    <h1>{% if pid == 'novo' %}Novo Produto{% else %}Editar Produto{% endif %}</h1>
    
    <form action="{{ url_for('admin.editar_produto', pid=pid) }}" method="POST" class="form-card admin-form">
        
        <div class="form-group">
            <label>Nome do Produto:</label>
            <input type="text" name="nome" value="{{ produto.nome if produto else '' }}" required>
        </div>

        <div class="form-row">
            <div class="form-group">
                <label>Preço (R$):</label>
                <input type="number" name="preco" step="0.01" value="{{ produto.preco if produto else '' }}" required>
            </div>
            
            <div class="form-group">
                <label>Peso (kg):</label>
                <input type="number" name="peso" step="0.1" value="{{ produto.peso if produto else '' }}" required>
            </div>
        </div>

        <div class="form-group">
            <label>Categoria:</label>
            <select name="categoria">
                <option value="Eletrônico" {% if produto and produto.categoria == 'Eletrônico' %}selected{% endif %}>Eletrônico</option>
                <option value="Móveis" {% if produto and produto.categoria == 'Móveis' %}selected{% endif %}>Móveis</option>
                <option value="Livro" {% if produto and produto.categoria == 'Livro' %}selected{% endif %}>Livro</option>
            </select>
        </div>

        <div class="form-group">
            <label>URL da Imagem:</label>
            <input type="text" name="imagem_url" value="{{ produto.imagem_url if produto else '' }}">
            {% if produto and produto.imagem_url %}
                <img src="{{ produto.imagem_url }}" alt="Preview" class="img-preview-small">
            {% endif %}
        </div>

        <div class="form-actions">
            <button type="submit" class="btn btn-success">Salvar Produto</button>
            <a href="{{ url_for('admin.dashboard') }}" class="btn btn-outline">Cancelar</a>
        </div>
    </form>
{% endblock %}